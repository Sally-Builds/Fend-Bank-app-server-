(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"0492":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"}},[a("div",{staticClass:"q-pt-md"},[a("q-markup-table",{staticStyle:{"max-height":"400px"},attrs:{flat:"",bordered:""}},[a("thead",{staticClass:"bg-teal"},[a("tr",[a("th",{attrs:{colspan:"5"}},[a("div",{staticClass:"row no-wrap items-center"},[a("q-icon",{staticStyle:{width:"70px"},attrs:{size:"xl",name:"account_balance",color:"grey-3"}}),a("div",{staticClass:"text-h6 q-ml-md text-white"},[t._v("Transaction history")])],1)])]),a("tr",[a("th",{staticClass:"text-left"},[t._v("Transaction Description")]),a("th",{staticClass:"text-left"},[t._v("Transaction Type")]),a("th",{staticClass:"text-right"},[t._v("Amount")]),a("th",{staticClass:"text-right"},[t._v("Date")])])]),a("tbody",t._l(t.transactions,(function(e,n){return a("tr",{key:n,class:"withdrawal"===e.name?t.withdrawal:t.deposit},[a("td",{staticClass:"text-left"},[t._v(t._s(e.description))]),a("td",{staticClass:"text-left"},[t._v(t._s(e.name))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.amount))]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("filterDate")(e.date))+" "+t._s(t._f("filterTime")(e.date)))])])})),0)])],1)])},s=[],i={props:{transactions:{type:Array}},data(){return{withdrawal:"bg-red-3",deposit:"bg-green-3"}},filters:{filterDate(t){let e=new Date(t).getDate(),a=new Date(t).getMonth()+1,n=new Date(t).getFullYear();return`${n}/${a}/${e}`},filterTime(t){let e=new Date(t).getHours(),a=new Date(t).getMinutes();return`${e}:${a}`}}},o=i,r=a("2877"),c=a("2bb1"),l=a("0016"),u=a("eebe"),d=a.n(u),m=Object(r["a"])(o,n,s,!1,null,null,null);e["default"]=m.exports;d()(m,"components",{QMarkupTable:c["a"],QIcon:l["a"]})},"714b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md q-gutter-sm"},[a("q-dialog",{attrs:{persistent:"",maximized:t.maximizedToggle,"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:t.paymentDialog.dialog,callback:function(e){t.$set(t.paymentDialog,"dialog",e)},expression:"paymentDialog.dialog"}},[a("q-card",{staticClass:"bg-primary text-white"},[a("q-bar",[a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close",color:"red"},on:{click:function(e){return t.showDialog({show:!1,name:""})}}},[a("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Close")])],1)],1),t.currencyConverter?a("q-card-section",[t.user?a("div",{staticClass:"text-h6 text-center"},[t._v("\n          Account Balance: $"+t._s(t._f("toDollars")(t.accountBalance))+" "),a("br"),t._v("\n          NB: All your Transactions will be done in Naira\n          ")]):t._e()]):a("q-card-section",[t.user?a("div",{staticClass:"text-h6 text-center"},[t._v("Account Balance: ₦"+t._s(t.accountBalance.toLocaleString()))]):t._e()]),a("q-card-section",{staticClass:"q-pt-none absolute-center"},[a("q-card",{staticClass:"bg-grey-3",staticStyle:{width:"300px"}},[a("q-card-section",[a("div",{staticClass:"text-h6 text-center text-primary"},[t._v(t._s(t.paymentDialog.name.toUpperCase()))])]),a("q-card-section",[a("q-form",{on:{submit:t.submit}},[a("q-input",{attrs:{rounded:"",outlined:"",type:"text",label:"Description",autofocus:"",hint:"What is this transaction for?"},model:{value:t.description,callback:function(e){t.description=t._n(e)},expression:"description"}}),a("q-input",{staticClass:"q-pt-sm",attrs:{rounded:"",outlined:"",type:"Number",label:"Amount",hint:"enter amount you want to deposit","lazy-rules":"",rules:t.rules},model:{value:t.paymentData.amount,callback:function(e){t.$set(t.paymentData,"amount",t._n(e))},expression:"paymentData.amount"}}),a("div",{staticClass:"text-center q-pt-md"},[a("q-btn",{attrs:{label:"deposit"===t.paymentDialog.name?"Deposit Funds":"Withdraw Funds",type:"submit",color:"primary"}})],1)],1)],1)],1)],1)],1)],1)],1)},s=[],i=(a("e01a"),a("ded3")),o=a.n(i),r=a("2f62"),c={props:{dialog:Boolean,email:String,name:String},data(){return{description:"",maximizedToggle:!0,transactionStatus:!1,paymentData:{tx_ref:this.generateReference(),amount:"",currency:"NGN",payment_options:"card,ussd",redirect_url:"",meta:{counsumer_id:"7898",consumer_mac:"kjs9s8ss7dd"},customer:{name:this.name,email:this.email},customizations:{title:"FendBank",description:"Deposit funds to your FendBank account",logo:"/images/logo2.png"},callback:this.makePaymentCallback,onclose:this.closedPaymentModal}}},computed:o()(o()(o()(o()({},Object(r["d"])("transactions",["paymentDialog"])),Object(r["c"])("auth",["accountBalance","user"])),Object(r["d"])("settings",["currencyConverter"])),{},{rules(){let t=[];if(this.paymentDialog.name){let e=t=>"number"==typeof t||"please enter a number";t.push(e)}if("withdrawal"===this.paymentDialog.name){let e=t=>1*t<1*this.accountBalance||"Insufficient funds";t.push(e)}return t}}),filters:{toDollars(t){return(t/385).toLocaleString()}},methods:o()(o()({},Object(r["b"])("transactions",["showDialog","depositFunds"])),{},{submit(){this.$q.dialog({title:"Confirm",message:`Are you sure you want to ${this.paymentDialog.name}\n        the sum of <span class="text-primary text-h6">&#8358;${this.paymentData.amount}?</span>`,html:!0,cancel:!0,persistent:!0}).onOk(()=>{"deposit"===this.paymentDialog.name&&this.payViaService(),"withdrawal"===this.paymentDialog.name&&(this.depositFunds({amount:this.paymentData.amount,description:this.description,name:this.paymentDialog.name,date:Date.now()}),this.$q.notify({color:"green-5",textColor:"white",icon:"check",message:"Payment Successful"}),this.paymentData.amount="",this.description="")}).onCancel(()=>{})},payViaService(){this.payWithFlutterwave(this.paymentData)},makePaymentCallback(t){"successful"===t.status&&(this.depositFunds({amount:t.amount,description:this.description,name:this.paymentDialog.name,date:Date.now()}),this.transactionStatus=!0,this.paymentData.amount=null,this.description="")},closedPaymentModal(){!0===this.transactionStatus?this.$q.notify({color:"green-5",textColor:"white",icon:"check",message:"Payment Successful"}):this.$q.notify({color:"red-5",textColor:"white",icon:"cancel",message:"transaction not successful. Something went wrong"})},generateReference(){const t=new Date;return t.getTime().toString()}})},l=c,u=a("2877"),d=a("9c40"),m=a("24e8"),p=a("f09f"),h=a("d847"),g=a("2c91"),y=a("05c0"),f=a("a370"),b=a("0378"),w=a("27f9"),_=a("7f67"),v=a("eebe"),D=a.n(v),x=Object(u["a"])(l,n,s,!1,null,null,null);e["default"]=x.exports;D()(x,"components",{QBtn:d["a"],QDialog:m["a"],QCard:p["a"],QBar:h["a"],QSpace:g["a"],QTooltip:y["a"],QCardSection:f["a"],QForm:b["a"],QInput:w["a"]}),D()(x,"directives",{ClosePopup:_["a"]})},ca34:function(t,e,a){},d8b2:function(t,e,a){"use strict";var n=a("ca34"),s=a.n(n);s.a},ec95:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{attrs:{padding:""}},[a("transition",{attrs:{appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"}},[t.user?a("q-banner",{staticClass:"bg-blue-grey-5 text-grey-2",attrs:{rounded:""},scopedSlots:t._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"account_balance_wallet",color:"grey-3"}})]},proxy:!0},{key:"action",fn:function(){return[a("q-btn",{attrs:{flat:"",color:"grey-3",label:"deposit funds"},on:{click:function(e){return t.showDialog({show:!0,name:"deposit"})}}}),a("q-btn",{attrs:{flat:"",color:"grey-3",label:"request withdrawal"},on:{click:function(e){return t.showDialog({show:!0,name:"withdrawal"})}}})]},proxy:!0}],null,!1,3254949644)},[t.user&&t.currencyConverter?a("div",[t._v("Account Balance: $"+t._s(t._f("toDollars")(t.accountBalance)))]):t._e(),t.user&&!t.currencyConverter?a("div",[t._v("Account Balance: ₦"+t._s(t.accountBalance.toLocaleString()))]):t._e()]):t._e()],1),t.user?a("transactionModal",{attrs:{email:this.user.email,name:this.user.name}}):t._e(),t.user?a("transactionHistory",{attrs:{transactions:t.getTransactions}}):t._e()],1)},s=[],i=a("ded3"),o=a.n(i),r=a("2f62"),c={components:{transactionHistory:a("0492").default,transactionModal:a("714b").default},data(){return{banner:!0,tab:"one",src:""}},computed:o()(o()(o()(o()(o()({},Object(r["d"])("transactions",["transactions","transactionDialog"])),Object(r["d"])("auth",["user"])),Object(r["c"])("auth",["accountBalance"])),Object(r["c"])("transactions",["getTransactions"])),Object(r["d"])("settings",["currencyConverter"])),methods:o()({},Object(r["b"])("transactions",["showDialog"])),filters:{toDollars(t){return(t/385).toLocaleString()}}},l=c,u=(a("d8b2"),a("2877")),d=a("9989"),m=a("54e1"),p=a("0016"),h=a("9c40"),g=a("eebe"),y=a.n(g),f=Object(u["a"])(l,n,s,!1,null,"266a142b",null);e["default"]=f.exports;y()(f,"components",{QPage:d["a"],QBanner:m["a"],QIcon:p["a"],QBtn:h["a"]})}}]);