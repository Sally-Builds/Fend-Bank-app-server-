(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"1e5b":function(t,e,a){},"2da0":function(t,e,a){"use strict";var n=a("1e5b"),i=a.n(n);i.a},"713b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{staticClass:"bg-brown-1",attrs:{view:"hHh lpR lFf"}},[a("q-header",{staticClass:"bg-primary text-white",attrs:{reveal:""}},[a("q-toolbar",[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"menu"},on:{click:function(e){t.left=!t.left}}}),a("q-toolbar-title",[t._v("\n        FendBank Plc\n      ")]),t.isLoggedIn?a("q-chip",[a("q-avatar",[a("img",{attrs:{src:"http://fendbankapp.herokuapp.com/images/users/default.jpg"}})]),t._v("\n        "+t._s(t.firstName)+"\n    ")],1):t._e(),a("div",{staticClass:"logout"},[t.isLoggedIn?a("q-btn",{attrs:{flat:"",label:"logout"},on:{click:t.logout}}):t._e()],1)],1)],1),a("q-drawer",{attrs:{elevated:"",dense:"",width:200,side:"left","content-class":"bg-brown-1",mini:t.miniState,"mini-to-overlay":""},on:{mouseover:function(e){t.miniState=!1},mouseout:function(e){t.miniState=!0}},model:{value:t.left,callback:function(e){t.left=e},expression:"left"}},[a("q-item",{attrs:{clickable:"",to:"/"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"primary",name:"account_balance"}})],1),a("q-item-section",[a("q-item-label",[t._v("Home")])],1)],1),a("q-item",{attrs:{clickable:""},on:{click:function(e){return t.showDialog({show:!0,name:"deposit"})}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"primary",name:"payment"}})],1),a("q-item-section",[a("q-item-label",[t._v("Deposit Funds")])],1)],1),a("q-item",{attrs:{clickable:""},on:{click:function(e){return t.showDialog({show:!0,name:"withdrawal"})}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"primary",name:"attach_money"}})],1),a("q-item-section",[a("q-item-label",[t._v("Withdrawal")])],1)],1),a("q-item",{attrs:{to:"/settings"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"primary",name:"settings"}})],1),a("q-item-section",[a("q-item-label",[t._v("Settings")])],1)],1),t.isLoggedIn?a("q-item",{staticClass:"logoutbig",attrs:{clickable:""},on:{click:t.logout}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"primary",name:"ion-power"}})],1),a("q-item-section",[a("q-item-label",[t._v("Logout")])],1)],1):t._e()],1),t.user?a("transactionModal",{attrs:{email:this.user.email,name:this.user.name}}):t._e(),a("q-page-container",[a("router-view")],1),a("q-footer",{staticClass:"bg-primary text-white text-center"},[a("q-toolbar",[a("q-toolbar-title",[t._v("\n        © "+t._s((new Date).getFullYear())+"\n      ")])],1)],1)],1)},i=[],o=a("ded3"),s=a.n(o),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-item",{attrs:{clickable:"",to:t.link}},[t.icon?a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:t.icon}})],1):t._e(),a("q-item-section",[a("q-item-label",[t._v(t._s(t.title))])],1)],1)},c=[],l={name:"EssentialLink",props:{title:{type:String,required:!0},link:{type:String,default:"#"},icon:{type:String,default:""}}},m=l,u=a("2877"),d=a("66e5"),p=a("4074"),h=a("0016"),g=a("0170"),b=a("eebe"),f=a.n(b),y=Object(u["a"])(m,r,c,!1,null,null,null);y.exports;f()(y,"components",{QItem:d["a"],QItemSection:p["a"],QIcon:h["a"],QItemLabel:g["a"]});var q=a("2f62"),v={components:{transactionModal:a("714b").default},data(){return{left:!1,miniState:!0}},computed:s()(s()(s()({},Object(q["d"])("auth",["isLoggedIn"])),Object(q["c"])("auth",["user"])),{},{firstName(){return this.user.name.split(" ")[0]}}),methods:s()(s()({},Object(q["b"])("auth",["logout","getUser","test"])),Object(q["b"])("transactions",["showDialog"])),mounted(){this.getUser()}},w=v,_=(a("2da0"),a("4d5a")),D=a("e359"),k=a("65c6"),x=a("9c40"),C=a("6ac5"),Q=a("b047"),S=a("cb32"),B=a("9404"),F=a("09e3"),I=a("7ff0"),j=Object(u["a"])(w,n,i,!1,null,null,null);e["default"]=j.exports;f()(j,"components",{QLayout:_["a"],QHeader:D["a"],QToolbar:k["a"],QBtn:x["a"],QToolbarTitle:C["a"],QChip:Q["a"],QAvatar:S["a"],QDrawer:B["a"],QItem:d["a"],QItemSection:p["a"],QIcon:h["a"],QItemLabel:g["a"],QPageContainer:F["a"],QFooter:I["a"]})},"714b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md q-gutter-sm"},[a("q-dialog",{attrs:{persistent:"",maximized:t.maximizedToggle,"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:t.paymentDialog.dialog,callback:function(e){t.$set(t.paymentDialog,"dialog",e)},expression:"paymentDialog.dialog"}},[a("q-card",{staticClass:"bg-primary text-white"},[a("q-bar",[a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close",color:"red"},on:{click:function(e){return t.showDialog({show:!1,name:""})}}},[a("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Close")])],1)],1),t.currencyConverter?a("q-card-section",[t.user?a("div",{staticClass:"text-h6 text-center"},[t._v("\n          Account Balance: $"+t._s(t._f("toDollars")(t.accountBalance))+" "),a("br"),t._v("\n          NB: All your Transactions will be done in Naira\n          ")]):t._e()]):a("q-card-section",[t.user?a("div",{staticClass:"text-h6 text-center"},[t._v("Account Balance: ₦"+t._s(t.accountBalance.toLocaleString()))]):t._e()]),a("q-card-section",{staticClass:"q-pt-none absolute-center"},[a("q-card",{staticClass:"bg-grey-3",staticStyle:{width:"300px"}},[a("q-card-section",[a("div",{staticClass:"text-h6 text-center text-primary"},[t._v(t._s(t.paymentDialog.name.toUpperCase()))])]),a("q-card-section",[a("q-form",{on:{submit:t.submit}},[a("q-input",{attrs:{rounded:"",outlined:"",type:"text",label:"Description",autofocus:"",hint:"What is this transaction for?"},model:{value:t.description,callback:function(e){t.description=t._n(e)},expression:"description"}}),a("q-input",{staticClass:"q-pt-sm",attrs:{rounded:"",outlined:"",type:"Number",label:"Amount",hint:"enter amount you want to deposit","lazy-rules":"",rules:t.rules},model:{value:t.paymentData.amount,callback:function(e){t.$set(t.paymentData,"amount",t._n(e))},expression:"paymentData.amount"}}),a("div",{staticClass:"text-center q-pt-md"},[a("q-btn",{attrs:{label:"deposit"===t.paymentDialog.name?"Deposit Funds":"Withdraw Funds",type:"submit",color:"primary"}})],1)],1)],1)],1)],1)],1)],1)],1)},i=[],o=(a("e01a"),a("ded3")),s=a.n(o),r=a("2f62"),c={props:{dialog:Boolean,email:String,name:String},data(){return{description:"",maximizedToggle:!0,transactionStatus:!1,paymentData:{tx_ref:this.generateReference(),amount:"",currency:"NGN",payment_options:"card,ussd",redirect_url:"",meta:{counsumer_id:"7898",consumer_mac:"kjs9s8ss7dd"},customer:{name:this.name,email:this.email},customizations:{title:"FendBank",description:"Deposit funds to your FendBank account",logo:"/images/logo2.png"},callback:this.makePaymentCallback,onclose:this.closedPaymentModal}}},computed:s()(s()(s()(s()({},Object(r["d"])("transactions",["paymentDialog"])),Object(r["c"])("auth",["accountBalance","user"])),Object(r["d"])("settings",["currencyConverter"])),{},{rules(){let t=[];if(this.paymentDialog.name){let e=t=>"number"==typeof t||"please enter a number";t.push(e)}if("withdrawal"===this.paymentDialog.name){let e=t=>1*t<1*this.accountBalance||"Insufficient funds";t.push(e)}return t}}),filters:{toDollars(t){return(t/385).toLocaleString()}},methods:s()(s()({},Object(r["b"])("transactions",["showDialog","depositFunds"])),{},{submit(){this.$q.dialog({title:"Confirm",message:`Are you sure you want to ${this.paymentDialog.name}\n        the sum of <span class="text-primary text-h6">&#8358;${this.paymentData.amount}?</span>`,html:!0,cancel:!0,persistent:!0}).onOk(()=>{"deposit"===this.paymentDialog.name&&this.payViaService(),"withdrawal"===this.paymentDialog.name&&(this.depositFunds({amount:this.paymentData.amount,description:this.description,name:this.paymentDialog.name,date:Date.now()}),this.$q.notify({color:"green-5",textColor:"white",icon:"check",message:"Payment Successful"}),this.paymentData.amount="",this.description="")}).onCancel(()=>{})},payViaService(){this.payWithFlutterwave(this.paymentData)},makePaymentCallback(t){"successful"===t.status&&(this.depositFunds({amount:t.amount,description:this.description,name:this.paymentDialog.name,date:Date.now()}),this.transactionStatus=!0,this.paymentData.amount=null,this.description="")},closedPaymentModal(){!0===this.transactionStatus?this.$q.notify({color:"green-5",textColor:"white",icon:"check",message:"Payment Successful"}):this.$q.notify({color:"red-5",textColor:"white",icon:"cancel",message:"transaction not successful. Something went wrong"})},generateReference(){const t=new Date;return t.getTime().toString()}})},l=c,m=a("2877"),u=a("9c40"),d=a("24e8"),p=a("f09f"),h=a("d847"),g=a("2c91"),b=a("05c0"),f=a("a370"),y=a("0378"),q=a("27f9"),v=a("7f67"),w=a("eebe"),_=a.n(w),D=Object(m["a"])(l,n,i,!1,null,null,null);e["default"]=D.exports;_()(D,"components",{QBtn:u["a"],QDialog:d["a"],QCard:p["a"],QBar:h["a"],QSpace:g["a"],QTooltip:b["a"],QCardSection:f["a"],QForm:y["a"],QInput:q["a"]}),_()(D,"directives",{ClosePopup:v["a"]})}}]);